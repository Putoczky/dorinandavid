---
import Layout from '../layouts/Layout.astro';
import Signature from '../components/Signature.astro';
import Footer from '../components/Footer.astro';
import Invitation from '../components/Invitation.astro';
import DresscodeSection from '../components/DresscodeSection.astro';
import Timeline from '../components/Timeline.astro';
---

<Layout>
	<Signature currentPage="home" />
	<main class="single-page">
		<section id="home" class="page-section page-section--hero">
			<div class="hero-images">
				<div class="hero-image hero-image--primary">
					<img src="/kép4.jpg" alt="" class="hero-img" loading="eager" fetchpriority="high" />
				</div>
				<div class="hero-image hero-image--secondary">
					<img src="/kép3.jpg" alt="" class="hero-img" loading="eager" />
				</div>
			</div>
		</section>

		<div class="page-separator" aria-hidden="true"></div>

		<section id="meghivo" class="page-section">
			<Invitation />
		</section>

		<div class="page-separator" aria-hidden="true"></div>

		<section id="dresscode" class="page-section">
			<DresscodeSection />
		</section>

		<div class="page-separator" aria-hidden="true"></div>

		<div class="page-section page-section--last">
			<Timeline />
		</div>
	</main>
	<Footer />
</Layout>

<script>
	function updateActiveLink() {
		const hash = window.location.hash.slice(1) || 'home';
		document.querySelectorAll('.header-link').forEach((link) => {
			const href = link.getAttribute('href') || '';
			const isActive = href === '#' + hash || (hash === 'home' && href === '/');
			link.classList.toggle('header-link--active', isActive);
		});
	}
	updateActiveLink();
	window.addEventListener('hashchange', updateActiveLink);
</script>

<style>
	.single-page {
		width: 100%;
		max-width: 1400px;
		margin: 0 auto;
		padding-top: 11.5rem;
		padding-bottom: 1rem;
		overflow-x: hidden;
	}

	.page-section {
		padding: 4rem 1.5rem;
		min-height: 50vh;
	}

	.page-section--hero {
		padding-top: 1.5rem;
		padding-bottom: 4rem;
	}

	.page-section--last {
		padding-bottom: 2rem;
	}

	.page-separator {
		width: 100%;
		max-width: 24rem;
		height: 1px;
		margin: 0 auto;
		background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.2) 30%, rgba(0, 0, 0, 0.2) 70%, transparent);
		flex-shrink: 0;
	}

	/* Hero: two main images */
	.hero-images {
		display: grid;
		grid-template-columns: 1.2fr 0.8fr;
		gap: 1.25rem;
		max-width: 56rem;
		margin: 0 auto 3rem;
		padding: 0 1rem;
	}

	.hero-image {
		position: relative;
		overflow: hidden;
		border-radius: 4px;
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06);
	}

	.hero-image--primary {
		aspect-ratio: 4 / 5;
	}

	.hero-image--secondary {
		aspect-ratio: 3 / 4;
		align-self: end;
	}

	.hero-img {
		display: block;
		width: 100%;
		height: 100%;
		object-fit: cover;
		filter: grayscale(100%);
		image-rendering: auto;
		image-rendering: smooth;
		transform: translateZ(0);
		backface-visibility: hidden;
	}

	@media (max-width: 900px) {
		.hero-images {
			grid-template-columns: 1fr;
			gap: 1rem;
		}

		.hero-image--secondary {
			align-self: stretch;
			aspect-ratio: 16 / 10;
		}
	}

	@media (max-width: 768px) {
		.single-page {
			padding: 11.5rem 1rem 3rem;
		}

		.page-section {
			padding: 3rem 1rem;
		}

		.page-section--hero {
			padding-bottom: 3rem;
		}

		.hero-images {
			margin-bottom: 2rem;
		}
	}
</style>
